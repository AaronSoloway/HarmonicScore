<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>HarmonicScore</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" href="styles/main.css">
        <link href="styles/bootstrap.css" rel="stylesheet" media="screen">
        <!-- endbuild -->
        <!-- build:js scripts/vendor/modernizr.js -->
        <script src="bower_components/modernizr/modernizr.js"></script>
        <script src="bower_components/raphael/raphael.js"></script>
        <!-- endbuild -->
    </head>
    <body>
      <input type="file" id="file-input" style="display:none"></input>
      <div>
        <div class="navbar navbar-fixed-top">
          <div class="navbar-inner">
              <div class="nav-collapse collapse">
                <ul class="nav">
                  <li class="brand">HarmonicScore</li>
                  <li><p class="navbar-text">Harmony. Like you've never seen it.</p></li>
                  <li><a style="cursor:pointer" onclick="$('input[id=file-input]').click();">Choose File</a></li>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Display Mode</a>
                    <ul class="dropdown-menu">
                      <li class="active"><a id="colorSelect" href="#">Color</a></li>
                      <li><a href="#" id="bwSelect">Black and White</a></li>
                      <li class="divider"></li>

                      <li class="active"><a id="logScale" href="#">Logarithmic Scale</a></li>
                      <li><a href="#" id="linScale">Linear Scale</a></li>
                      <li class="divider"></li>
                      <li class="active"><a id="animateBeats" href="#">Animate Beats</a></li>
                      <li><a href="#" id="highlightBeats">Highlight Beats</a></li>
                    </ul>
                  </li>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Intonation</a>
                    <ul class="dropdown-menu">
                      <li class="active"><a id="equalTemperament" href="#">Equal</a></li>
                      <li class="divider"></li>
                      <li><a href="#" id="0" class="limit5">Just Intonation - C</a></li>
                      <li><a href="#" id="1" class="limit5">Just Intonation - C#</a></li>
                      <li><a href="#" id="2" class="limit5">Just Intonation - D</a></li>
                      <li><a href="#" id="3" class="limit5">Just Intonation - Eb</a></li>
                      <li><a href="#" id="4" class="limit5">Just Intonation - E</a></li>
                      <li><a href="#" id="5" class="limit5">Just Intonation - F</a></li>
                      <li><a href="#" id="6" class="limit5">Just Intonation - F#</a></li>
                      <li><a href="#" id="7" class="limit5">Just Intonation - G</a></li>
                      <li><a href="#" id="8" class="limit5">Just Intonation - Ab</a></li>
                      <li><a href="#" id="9" class="limit5">Just Intonation - A</a></li>
                      <li><a href="#" id="10" class="limit5">Just Intonation - Bb</a></li>
                      <li><a href="#" id="11" class="limit5">Just Intonation - B</a></li>
                    </ul>
                  </li>
                </ul>
              </div>
          </div>
        </div>
        <div id="scoreContainer" style="display:inline-block">
          <div id="score"></div>
        </div>
        <div class="navbar navbar-fixed-bottom">
          <div class="navbar-inner">
              <div class="nav-collapse collapse">
                <ul class="nav">
                  <li><a style="cursor:pointer" href="#help" data-toggle="modal">How Do I Use This?</a></li>
                  <li><a style="cursor:pointer" href="#about" data-toggle="modal">About HarmonicScore</a></li>
                </ul>
            </div>
          </div>
        </div>

      </div>
      <div class="modal fade" id="help" align="center">
        <div class="modal-header">
          <a class="close" data-dismiss="modal">&times;</a>
          <h3>How Do I Use This?</h3>
        </div>
        <div class="modal-body">
          <p style="text-align: justify;">
            <b>What is going on here?  How do I use it?</b><br>
            It loads with the Aria from Bach's Goldberg Variations but you can load any MIDI file that you want to by clicking "Choose File"
            <br>
            <br>
            <b>Axes:</b><br>
            The X-axis represents time, and the Y-axis represents frequency.  
            <br>
            <br>
            <b>View Options:</b><br>
            Stronger, wider lines represent notes and thinner, lighter lines represent their harmonics.   
            default: color around the circle of pitches.  A is red, no matter the octave. etc.
            black and white: all fundamentals are red, harmonics are pinkish.
            <br>
            <br>
            <b>A Note About Harmonics:</b><br>
            We arbitrarily set the number of harmonics to 10.  We also made it such that the energy of harmonics decays as they get higher, as generally happens in nature.  This is a one size fits all approach for the moment since we have no library of harmonic signatures.  
            <br>
            <br>
            <b>Secondary Analysis:</b><br>
            We analyze all frequencies overlapping in time.  If these overlapping frequencies are close enough that they would cause perceptual beating patterns, we highlight the "beating pairs" with slowly pulsing objects to indicate this feature.
            <br>
            <br>
            <b>Tuning:</b><br>
            You can select from Equal Temperament and Just Intonation in 12 keys.
            <br>
            <br>
            <b>Some Cool Things to Try:</b><br>
            Compare the Bach Aria that loads by default in Equal vs. Just Intonation G because you see different beating patterns which alludes to some musical statements being more resonant or dissonant in the different tuning contexts.  The easiest way to see this is to open two tabs of HarmonicScore.com and, on the second one, change the tuning to Just Intonation G.  Then by toggling between the two tabs you can see the deviation in these two tuning systems.    
          </p>
        </div>
      </div>


      <div class="modal fade" id="about" align="center">
        <div class="modal-header">
          <a class="close" data-dismiss="modal">&times;</a>
          <h3>About HarmonicScore</h3>
        </div>
        <div class="modal-body">
          <br>
          <p style="text-align: center;">
            A project by <a href="http://twitter.com/AaronSoloway" target=_blank>@AaronSoloway</a> and <a href="http://twitter.com/rmcclellan" target=_blank>@RMcClellan</a>
          </p>
          <br>
          <p style="text-align: justify;">
          HarmonicScore is a web-based visualization tool for understanding the overtonal harmonic interactions of music in different tuning systems (Equal Temperament, Just Intonation in various keys, etc.).  It is optimized for Chrome and is in beta. The input is a MIDI file that can be rendered using a variety of tuning systems, multiple color schemes to highlight different attributes, and secondary analysis of perceptually prominent overtonal interactions. The hope is that this tool will give greater insight into how composers' personal style is exhibited in voicing and tuning system. 
          <br>
          <br>
            Inspired by <a href="http://www.sonicdesign.org/" target=_blank>Sonic Design</a> by <a href="http://www.sonicdesign.org/cogan.htm" target=_blank>Robert Cogan</a> and <a href="http://www.sonicdesign.org/escot.htm" target=_blank>Pozzi Escot</a> (recommended by Dave Flaherty from <a href="http://cuddlemagic.bandcamp.com/" target=_blank>Cuddle Magic</a>), <a href="http://www.musanim.com/" target=_blank>The Music Animation Machine</a> (found on <a href="http://www.edwardtufte.com/tufte/" target=_blank>Edward Tufte</a>'s <a href="http://www.edwardtufte.com/bboard/" target=_blank>forum</a>), <a href="http://www.amazon.com/Harmonograph-Visual-Guide-Mathematics-Wooden/dp/0802714099" target=_blank>Harmonograph A Visual Guide to the Mathematics of Music</a> by Anthony Ashton, and <a href="http://www.amazon.com/Harmonic-Experience-Harmony-Natural-Expression/dp/0892815604" target=_blank>Harmonic Experience: Tonal Harmony from Its Natural Origins to Its Modern Expression</a> by <a href="http://en.wikipedia.org/wiki/W._A._Mathieu" target=_blank>W. A. Mathieu</a> (discovered thanks to the, apparently deceased, blog of <a href="http://www.lloydwatts.com/" target=_blank>Lloyd Watts</a>, founder of <a href="http://www.audience.com/" target=_blank>Audience</a>).
          </p>
          <br>
          <p style="text-align: center;">
            First hacked for <a href="http://boston.musichackday.org" target=_blank>Music Hack Day Boston</a> Twenty-Hundred and Twelve
          </p>
          <br>
        </div>
      </div>
    </body>


        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <!-- Add your site or application content here -->

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="scripts/vendor/jquery.min.js"><\/script>')</script>
        
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-36249349-1']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();

        </script>
    
    <!-- build:js scripts/amd-app.js -->
    <script data-main="scripts/main" src="scripts/vendor/require.js"></script>
    <!-- endbuild -->
</html>
